<!doctype html><html class="theme-next mist use-motion" lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css"><link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic|Monda:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css"><link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css"><link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css"><meta name="keywords" content="Linux,"><link rel="alternate" href="/atom.xml" title="HAMSTERSI" type="application/atom+xml"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0"><meta name="description" content="Linux 系统目录结构/bin bin 是 Binary 的缩写。这个目录存放着最经常使用的命令。/boot 这里存放的是启动 Linux 时使用的一些核心文件，包括一些连接文件以及镜像文件。/dev dev 是 Device(设备)的缩写。该目录下存放的是 Linux 的外部设备，在 Linux 中访问设备的方式和访问文件的方式是相同的。/etc 这个目录用来存放所有的系统管理所需要的配置文件"><meta property="og:type" content="article"><meta property="og:title" content="Linux 简介"><meta property="og:url" content="http://hamstersi.github.io/2017/08/Linux-简介/index.html"><meta property="og:site_name" content="HAMSTERSI"><meta property="og:description" content="Linux 系统目录结构/bin bin 是 Binary 的缩写。这个目录存放着最经常使用的命令。/boot 这里存放的是启动 Linux 时使用的一些核心文件，包括一些连接文件以及镜像文件。/dev dev 是 Device(设备)的缩写。该目录下存放的是 Linux 的外部设备，在 Linux 中访问设备的方式和访问文件的方式是相同的。/etc 这个目录用来存放所有的系统管理所需要的配置文件"><meta property="og:image" content="http://wiki.jikexueyuan.com/project/linux/images/6_81.png.jpg"><meta property="og:image" content="http://wiki.jikexueyuan.com/project/linux/images/6_82.png.jpg"><meta property="og:image" content="http://wiki.jikexueyuan.com/project/linux/images/6_83.png.jpg"><meta property="og:image" content="http://wiki.jikexueyuan.com/project/linux/images/6_84.png.jpg"><meta property="og:image" content="http://wiki.jikexueyuan.com/project/linux/images/6_85.png.jpg"><meta property="og:image" content="http://wiki.jikexueyuan.com/project/linux/images/6_86.png.jpg"><meta property="og:image" content="http://wiki.jikexueyuan.com/project/linux/images/6_87.png.jpg"><meta property="og:image" content="http://wiki.jikexueyuan.com/project/linux/images/6_88.png.jpg"><meta property="og:image" content="http://wiki.jikexueyuan.com/project/linux/images/6_89.png.jpg"><meta property="og:image" content="http://wiki.jikexueyuan.com/project/linux/images/6_93.png.jpg"><meta property="og:image" content="http://wiki.jikexueyuan.com/project/linux/images/6_94.png.jpg"><meta property="og:image" content="http://wiki.jikexueyuan.com/project/linux/images/6_95.png.jpg"><meta property="og:image" content="http://wiki.jikexueyuan.com/project/linux/images/6_96.png.jpg"><meta property="og:image" content="http://wiki.jikexueyuan.com/project/linux/images/6_97.png.jpg"><meta property="og:image" content="http://wiki.jikexueyuan.com/project/linux/images/6_100.png.jpg"><meta property="og:image" content="http://wiki.jikexueyuan.com/project/linux/images/6_101.png.jpg"><meta property="og:image" content="http://wiki.jikexueyuan.com/project/linux/images/6_102.png.jpg"><meta property="og:image" content="http://wiki.jikexueyuan.com/project/linux/images/6_103.png.jpg"><meta property="og:image" content="http://wiki.jikexueyuan.com/project/linux/images/6_104.png.jpg"><meta property="og:image" content="http://wiki.jikexueyuan.com/project/linux/images/6_105.png.jpg"><meta property="og:image" content="http://wiki.jikexueyuan.com/project/linux/images/6_106.png.jpg"><meta property="og:image" content="http://wiki.jikexueyuan.com/project/linux/images/7_1.png.jpg"><meta property="og:image" content="http://wiki.jikexueyuan.com/project/linux/images/7_12.png.jpg"><meta property="og:image" content="http://wiki.jikexueyuan.com/project/linux/images/7_13.png.jpg"><meta property="og:image" content="http://wiki.jikexueyuan.com/project/linux/images/7_14.png.jpg"><meta property="og:image" content="http://wiki.jikexueyuan.com/project/linux/images/7_15.png.jpg"><meta property="og:image" content="http://wiki.jikexueyuan.com/project/linux/images/7_16.png.jpg"><meta property="og:image" content="http://wiki.jikexueyuan.com/project/linux/images/7_17.png.jpg"><meta property="og:image" content="http://wiki.jikexueyuan.com/project/linux/images/7_18.png.jpg"><meta property="og:image" content="http://wiki.jikexueyuan.com/project/linux/images/7_19.png.jpg"><meta property="og:image" content="http://wiki.jikexueyuan.com/project/linux/images/7_20.png.jpg"><meta property="og:updated_time" content="2017-08-14T11:29:13.000Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Linux 简介"><meta name="twitter:description" content="Linux 系统目录结构/bin bin 是 Binary 的缩写。这个目录存放着最经常使用的命令。/boot 这里存放的是启动 Linux 时使用的一些核心文件，包括一些连接文件以及镜像文件。/dev dev 是 Device(设备)的缩写。该目录下存放的是 Linux 的外部设备，在 Linux 中访问设备的方式和访问文件的方式是相同的。/etc 这个目录用来存放所有的系统管理所需要的配置文件"><meta name="twitter:image" content="http://wiki.jikexueyuan.com/project/linux/images/6_81.png.jpg"><script type="text/javascript" id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Mist",sidebar:{position:"left",display:"always"},fancybox:!0,motion:!0,duoshuo:{userId:"undefined",author:"博主"},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><link rel="canonical" href="http://hamstersi.github.io/2017/08/Linux-简介/"><title>Linux 简介 | HAMSTERSI</title></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans"><script type="text/javascript">!function(){var e=document.createElement("script");e.src="//tajs.qq.com/stats?sId=60753873";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><div style="display:none"><script src="//s95.cnzz.com/z_stat.php?id=1261299152&web_id=1261299152" language="JavaScript"></script></div><div class="container one-collumn sidebar-position-left page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="site-title">HAMSTERSI</span></a></div><p class="site-subtitle">生性涼薄 擇木而修</p></div><div class="site-nav-toggle"><button><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-archives"><a href="/archives" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class="menu-item menu-item-tags"><a href="/tags" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>标签</a></li><li class="menu-item menu-item-about"><a href="/about" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i><br>关于</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class="site-search"><div class="popup"><span class="search-icon fa fa-search"></span> <input type="text" id="local-search-input"><div id="local-search-result"></div><span class="popup-btn-close">close</span></div></div></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><link itemprop="mainEntityOfPage" href="http://hamstersi.github.io/2017/08/Linux-简介/"><span style="display:none" itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Hamster Si"><meta itemprop="description" content=""><meta itemprop="image" content="/images/logo@2x.png"></span><span style="display:none" itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="HAMSTERSI"><span style="display:none" itemprop="logo" itemscope itemtype="http://schema.org/ImageObject"><img style="display:none" itemprop="url image" alt="HAMSTERSI" src=""></span></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Linux 简介</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-text">发表</span> <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-08-14T19:15:27+08:00">2017-08-14 </time></span><span class="post-category"><span class="post-meta-divider">|</span><span class="post-meta-item-text">分类</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Tech/" itemprop="url" rel="index"><span itemprop="name">Tech</span> </a></span></span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-text">标签</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/tags/Linux/" itemprop="url" rel="tag"><span itemprop="name">#Linux</span></a></span></span></div></header><div class="post-body" itemprop="articleBody"><script src="/assets/js/APlayer.min.js"></script><h1 id="Linux-系统目录结构"><a href="#Linux-系统目录结构" class="headerlink" title="Linux 系统目录结构"></a>Linux 系统目录结构</h1><p>/bin bin 是 Binary 的缩写。这个目录存放着最经常使用的命令。</p><p>/boot 这里存放的是启动 Linux 时使用的一些核心文件，包括一些连接文件以及镜像文件。</p><p>/dev dev 是 Device(设备)的缩写。该目录下存放的是 Linux 的外部设备，在 Linux 中访问设备的方式和访问文件的方式是相同的。</p><p>/etc 这个目录用来存放所有的系统管理所需要的配置文件和子目录。</p><p>/home 用户的主目录，在 Linux 中，每个用户都有一个自己的目录，一般该目录名是以用户的账号命名的。</p><p>/lib 这个目录里存放着系统最基本的动态连接共享库，其作用类似于 Windows 里的 DLL 文件。几乎所有的应用程序都需要用到这些共享库。</p><a id="more"></a><p>/lost+found 这个目录一般情况下是空的，当系统非法关机后，这里就存放了一些文件。</p><p>/media linux 系统会自动识别一些设备，例如U盘、光驱等等，当识别后，linux 会把识别的设备挂载到这个目录下。</p><p>/mnt 系统提供该目录是为了让用户临时挂载别的文件系统的，我们可以将光驱挂载在 /mnt/ 上，然后进入该目录就可以查看光驱里的内容了。</p><p>/opt 这是给主机额外安装软件所摆放的目录。比如你安装一个 ORACLE 数据库则就可以放到这个目录下。默认是空的。</p><p>/proc 这个目录是一个虚拟的目录，它是系统内存的映射，我们可以通过直接访问这个目录来获取系统信息。这个目录的内容不在硬盘上而是在内存里，我们也可以直接修改里面的某些文件，比如可以通过下面的命令来屏蔽主机的 ping 命令，使别人无法 ping 你的机器：</p><p>echo 1 &gt; /proc/sys/net/ipv4/icmp_echo_ignore_all。</p><p>/root 该目录为系统管理员，也称作超级权限者的用户主目录。</p><p>/sbin s 就是 Super User 的意思，这里存放的是系统管理员使用的系统管理程序。</p><p>/selinux 这个目录是 Redhat/CentOS 所特有的目录，Selinux 是一个安全机制，类似于 Windows 的防火墙，但是这套机制比较复杂，这个目录就是存放 selinux 相关的文件的。</p><p>/srv 该目录存放一些服务启动之后需要提取的数据。</p><p>/sys 这是 linux2.6 内核的一个很大的变化。该目录下安装了 2.6 内核中新出现的一个文件系统 sysfs ，sysfs 文件系统集成了下面3种文件系统的信息：针对进程信息的 proc 文件系统、针对设备的 devfs 文件系统以及针对伪终端的 devpts 文件系统。该文件系统是内核设备树的一个直观反映。当一个内核对象被创建的时候，对应的文件和目录也在内核对象子系统种被创建。</p><p>/tmp 这个目录是用来存放一些临时文件的。</p><p>/usr 这是一个非常重要的目录，用户的很多应用程序和文件都放在这个目录下，类似与 windows 下的 program files目录。</p><p>/usr/bin：系统用户使用的应用程序。</p><p>/usr/sbin：超级用户使用的比较高级的管理程序和系统守护程序。</p><p>/usr/src：内核源代码默认的放置目录。</p><p>/var 这个目录中存放着在不断扩充着的东西，我们习惯将那些经常被修改的目录放在这个目录下。包括各种日志文件。</p><p>在 linux 系统中，有几个目录是比较重要的，平时需要注意不要误删除或者随意更改内部文件。/etc： 上边也提到了，这个是系统中的配置文件，如果你更改了该目录下的某个文件可能会导致系统不能启动。/bin, /sbin, /usr/bin, /usr/sbin: 这是系统预设的执行文件的放置目录，比如 ls 就是在 /bin/ls 目录下的。值得提出的是，/bin, /usr/bin 是给系统用户使用的指令（除 root 外的通用户），而 /sbin, /usr/sbin 则是给 root 使用的指令。 /var： 这是一个非常重要的目录，系统上跑了很多程序，那么每个程序都会有相应的日志产生，而这些日志就被记录到这个目录下，具体在 /var/log 目录下，另外 mail 的预设放置也是在这里。</p><h1 id="常用快捷键"><a href="#常用快捷键" class="headerlink" title="常用快捷键"></a>常用快捷键</h1><table><thead><tr><th>快捷键</th><th>简介</th></tr></thead><tbody><tr><td>Tab</td><td>自动补全</td></tr><tr><td>Ctrl + D</td><td>退出当前终端，也可以输入 exit</td></tr><tr><td>Ctrl + Z</td><td>暂停当前进程，比如你正运行一个命令，突然觉得有点问题想暂停一下，就可以使用这个快捷键。暂停后可用 fg 恢复</td></tr><tr><td>Ctrl + L</td><td>清屏，使光标移动到第一行</td></tr></tbody></table><h1 id="Linux-文件目录管理"><a href="#Linux-文件目录管理" class="headerlink" title="Linux 文件目录管理"></a>Linux 文件目录管理</h1><h2 id="环境变量PATH"><a href="#环境变量PATH" class="headerlink" title="环境变量PATH"></a>环境变量PATH</h2><ol><li><p>将 /root 路径加入 PATH 当中：PATH=”$PATH”:/root</p></li><li><p>LIBRARY_PATH环境变量用于在<strong>程序编译期间</strong>查找动态链接库时指定查找共享库的路径，例如，指定gcc编译需要用到的动态链接库的目录。设置方法如下（其中，LIBDIR1和LIBDIR2为两个库目录）：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">export LIBRARY_PATH=LIBDIR1:LIBDIR2:$LIBRARY_PATH</div></pre></td></tr></table></figure><p>LD_LIBRARY_PATH环境变量用于在<strong>程序加载运行期间</strong>查找动态链接库时指定除了系统默认路径之外的其他路径，注意，LD_LIBRARY_PATH中指定的路径会在系统默认路径之前进行查找。设置方法如下（其中，LIBDIR1和LIBDIR2为两个库目录）：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">export LD_LIBRARY_PATH=LIBDIR1:LIBDIR2:$LD_LIBRARY_PATH</div></pre></td></tr></table></figure><p>举个例子，我们开发一个程序，经常会需要使用某个或某些动态链接库，为了保证程序的可移植性，可以先将这些编译好的动态链接库放在自己指定的目录下，然后按照上述方式将这些目录加入到LD_LIBRARY_PATH环境变量中，这样自己的程序就可以动态链接后加载库文件运行了。</p><p><strong>区别与使用：</strong></p><p>开发时，设置LIBRARY_PATH，以便gcc能够找到编译时需要的动态链接库。</p><p>发布时，设置LD_LIBRARY_PATH，以便程序加载运行时能够自动找到需要的动态链接库。</p></li></ol><h2 id="文件属性"><a href="#文件属性" class="headerlink" title="文件属性"></a>文件属性</h2><p>用ls –l 查看当前目录下的文件时，共显示了9列内容（用空格划分列），都代表了什么含义呢？</p><p>第1列，包含的东西有该文件类型和所属主、所属组以及其他用户对该文件的权限。第一列共10位。其中第一位用来描述该文件的类型。上例中，我们看到的类型有”d”, “-“ ，其实除了这两种外还有”l”, “b”, “c”,”s”等。</p><p>d表示该文件为目录；</p><p>-表示该文件为普通文件；</p><p>l表示该文件为连接文件（linux file），上边提到的软连接即为该类型；</p><p><img src="http://wiki.jikexueyuan.com/project/linux/images/6_81.png.jpg" alt="6_81.png.jpg"></p><p>b表示该文件为块设备文件，比如磁盘分区</p><p><img src="http://wiki.jikexueyuan.com/project/linux/images/6_82.png.jpg" alt="6_82.png.jpg"></p><p>c表示该文件为串行端口设备，例如键盘、鼠标。</p><p>s表示该文件为套接字文件（socket），用于进程间通信。</p><p>后边的9位，每三个为一组。均为rwx 三个参数的组合。其中r 代表可读，w代表可写，x代表可执行。前三位为所属主（user）的权限，中间三位为所属组（group）的权限，最后三位为其他非本群组（others）的权限。下面拿一个具体的例子来述说一下。</p><p>一个文件的属性为-rwxr-xr– ，它代表的意思是，该文件为普通文件，文件拥有者可读可写可执行，文件所属组对其可读不可写可执行，其他用户对其只可读。</p><p>对于一个目录来讲，打开这个目录即为执行这个目录，所以任何一个目录必须要有x权限才能打开并查看该目录。例如一个目录的属性为 drwxr–r– 其所属主为root，那么除了root外的其他用户是不能打开这个目录的。</p><p>第2列，表示为连接占用的节点（inode），若为目录时，通常与该目录地下还有多少目录有关系，关于连接（link）在以后章节详细介绍。</p><p>第3列，表示该文件的所属主。</p><p>第4列，表示该文件的所属组。</p><p>第5列，表示该文件的大小。</p><p>第6列、第7列和第8列为该文件的创建日期或者最近的修改日期，分别为月份日期以及时间。</p><p>第9列，文件名。如果前面有一个. 则表示该文件为隐藏文件。</p><h2 id="更改文件的权限"><a href="#更改文件的权限" class="headerlink" title="更改文件的权限"></a>更改文件的权限</h2><p>更改文件的权限，也就是更改所属主、所属组以及他们对应的读写执行权限。</p><p>1）<strong>更改所属组</strong> <strong>chgrp</strong></p><p>语法：chgrp [组名][文件名]</p><p><img src="http://wiki.jikexueyuan.com/project/linux/images/6_83.png.jpg" alt="6_83.png.jpg"></p><p>这里用到了groupadd 命令，其含义即增加一个用户组。该命令在以后章节中做详细介绍，你只要知道它是用来增加用户组的即可。</p><p>2）<strong>更改文件的所属主</strong> <strong>chown</strong></p><p>语法：chown [ -R ] 账户名文件名</p><p>chown [ -R ] 账户名：组名文件名</p><p>这里的-R选项只作用于目录，作用是级联更改，即不仅更改当前目录，连目录里的目录或者文件全部更改。</p><p><img src="http://wiki.jikexueyuan.com/project/linux/images/6_84.png.jpg" alt="6_84.png.jpg"></p><p>useradd 是增加一个账户，以后会详细介绍。上例中，首先建立一个目录test，然后在test目录下创建一个普通文件test2，因为是以root的身份创建的目录和文件，所以所属主以及所属组都是root。chown user1 test 这使test的目录所属主由root变为了user1 ，然后test目录下的test2文件所属主以及所属组还是root。接着 chown –R user1:testgroup test 这样把test连同test目录下的test2 的所属主以及所属组都改变了。</p><p>3）<strong>改变用户对文件的读写执行权限</strong> <strong>chmod</strong></p><p>在linux中为了方便更改这些权限，linux使用数字去代替rwx ，具体规则为r: 4 w:2 x:1 -:0 举个例子，-rwxrwx—用数字表示就是 770，具体是这样来的：</p><p>rwx = 4+2+1=7; rwx= 4+2+1=7; — = 0+0+0=0</p><p>chmod 语法： chmod [-R] xyz 文件名（这里的xyz，表示数字）</p><p>-R 选项作用同chown，级联更改。</p><p>值得提一下的是，在linux系统中，默认一个目录的权限为 755，而一个文件的默认权限为644.</p><p><img src="http://wiki.jikexueyuan.com/project/linux/images/6_85.png.jpg" alt="6_85.png.jpg"></p><p>如果你创建了一个目录，而该目录不想让其他人看到内容，则只需设置成 rwxr—– (740) 即可。</p><p>chmod 还支持使用rwx的方式来设置权限。！从之前的介绍中我们可以发现，基本上就九个属性分别是(1)user (2)group (3)others 三群啦！那么我们就可以藉由 u, g, o 来代表三群的属性！此外， a 则代表 all 亦即全部的三群！那么读写的属性就可以写成了 r, w, x！也就是可以使用底下的方式来看：</p><p><img src="http://wiki.jikexueyuan.com/project/linux/images/6_86.png.jpg" alt="6_86.png.jpg"></p><p>现在我想把一个文件设置成这样的权限 rwxr-xr-x (755)，使用这种方式改变权限的命令为</p><p><img src="http://wiki.jikexueyuan.com/project/linux/images/6_87.png.jpg" alt="6_87.png.jpg"></p><p>另外还可以针对u, g, o, a增加或者减少某个权限（读，写，执行），例如</p><p><img src="http://wiki.jikexueyuan.com/project/linux/images/6_88.png.jpg" alt="6_88.png.jpg"></p><p>另外linux下还有两个比较特殊的权限s和t，请点击<a href="">linux下文件的特殊权限s和t</a></p><p><strong>umask</strong></p><p>上边也提到了默认情况下，目录权限值为766，普通文件权限值为644。那么这个值是由谁规定呢？追究其原因就涉及到了umask。</p><p>umask语法： umask xxx （这里的xxx代表三个数字）</p><p>查看umask值只要输入umask然后回车。 umask预设是0022，其代表什么含义？先看一下下面的规则：</p><p>1）若用户建立为普通文件，则预设“没有可执行权限”，只有rw两个权限。最大为666（-rw-rw-rw-）</p><p>2）若用户建立为目录，则预设所有权限均开放，即777（drwxrwxrwx）</p><p>umask数值代表的含义为，上边两条规则中的默认值（文件为666，目录为777）需要减掉的权限。所以目录的权限为(rwxrwxrwx) – (—-w–w-) = (rwxr-xr-x)，普通文件的权限为(rw-rw-rw-) – (—-w–w-) = (rw-r–r–)。umask的值是可以自定义的，比如设定umask 为 002，你再创建目录或者文件时，默认权限分别为(rwxrwxrwx) – (——-w-) = (rwxrwxr-x)和(rw-rw-rw-) – (——-w-) = (rw-rw-r–)。</p><p><img src="http://wiki.jikexueyuan.com/project/linux/images/6_89.png.jpg" alt="6_89.png.jpg"></p><p>umask 可以在/etc/bashrc里面更改，预设情况下，root的umask为022，而一般使用者则为002，因为可写的权限非常重要，因此预设会去掉写权限。</p><h2 id="搜索文件"><a href="#搜索文件" class="headerlink" title="搜索文件"></a>搜索文件</h2><p><strong>which</strong>用来查找可执行文件的绝对路径。需要注意的一点是，which只能用来查找PATH环境变量中出现的路径下的可执行文件。这个命令用的也是蛮多的，有时候我们不知道某个命令的绝对路径，which一下很容易就知道了。</p><p><img src="http://wiki.jikexueyuan.com/project/linux/images/6_93.png.jpg" alt="6_93.png.jpg"></p><p>当查找的文件在PATH变量中并没有时，就会报错。<strong>whereis</strong> 通过预先生成的一个文件列表库去查找跟给出的文件名相关的文件。</p><p>语法： whereis [-bmsu][文件名称]</p><p>-b：只找binary 文件</p><p>-m：只找在说明文件manual路径下的文件</p><p>-s：只找source来源文件</p><p>-u：没有说明档的文件</p><p><img src="http://wiki.jikexueyuan.com/project/linux/images/6_94.png.jpg" alt="6_94.png.jpg"></p><p><strong>locate</strong>类似于whereis，也是通过查找预先生成的文件列表库来告诉用户要查找的文件在哪里。后边直接跟文件名。如果你的linux没有这个命令，请安装软件包 mlocate ，这个软件包在你的系统安装盘里，后缀名是RPM，随后介绍的find命令会告诉你如何查找这个包。如果你装的CentOS你可以使用这个命令来安装 yum install –y mlocate 。</p><p><img src="http://wiki.jikexueyuan.com/project/linux/images/6_95.png.jpg" alt="6_95.png.jpg"></p><p>这是因为系统还没有生成那个文件列表库。你可以使用updatedb 命令立即生成（更新）这个库。如果你的服务器上正跑着重要的业务，那么你最好不要去运行这个命令，因为一旦运行，服务器的压力会变大。这个数据库默认情况下每周更新一次。所以你用locate命令去搜索一个文件，正好是在两次更新时间段内，那你肯定是得不到结果的。你可以到/etc/updated.conf 去配置这个数据库生成（更新）的规则。locate命令笔者用的也并不多，所以你只要明白有这么一个东西即可。你用到时再去深究其用法吧。</p><p><strong>find</strong> 语法： find [路径][参数]</p><p>-atime +n ：访问或执行时间大于n天的文件</p><p>-ctime +n ：写入、更改inode属性（例如更改所有者、权限或者连接）时间大于n天的文件</p><p>-mtime +n ：写入时间大于n天的文件</p><p>看到这里，你对这三个time是不是有些晕了，那笔者就先给你介绍一下这三个time属性。</p><p>文件的 Access time，atime 是在读取文件或者执行文件时更改的。文件的 Modified time，mtime 是在写入文件时随文件内容的更改而更改的。文件的 Create time，ctime 是在写入文件、更改所有者、权限或链接设置时随 inode 的内容更改而更改的。 因此，更改文件的内容即会更改 mtime 和 ctime，但是文件的 ctime 可能会在 mtime 未发生任何变化时更改，例如，更改了文件的权限，但是文件内容没有变化。 如何获得一个文件的atime mtime 以及ctime ？</p><p>ls -l 命令可用来列出文件的 atime、ctime 和 mtime。</p><p>ls -lc filename 列出文件的 ctime</p><p>ls -lu filename 列出文件的 atime</p><p>ls -l filename 列出文件的 mtime</p><p>atime不一定在访问文件之后被修改，因为：使用ext3文件系统的时候，如果在mount的时候使用了noatime参数那么就不会更新atime的信息。而这是加了 noatime 取消了, 不代表真实情況。反正, 這三個 time stamp 都放在 inode 中。若 mtime, atime 修改inode 就一定會改, 既然 inode 改了, 那 ctime 也就跟著要改了。</p><p>继续讲find常用的参数。</p><p>-name filename 直接查找该文件名的文件，这个使用最多了。</p><p><img src="http://wiki.jikexueyuan.com/project/linux/images/6_96.png.jpg" alt="6_96.png.jpg"></p><p>-type type ：通过文件类型查找。文件类型在前面部分已经简单介绍过，相信你已经大体上了解了。type 包含了 f, b, c, d, l, s 等等。后续的内容还会介绍文件类型的。</p><p><img src="http://wiki.jikexueyuan.com/project/linux/images/6_97.png.jpg" alt="6_97.png.jpg"></p><h2 id="文件系统"><a href="#文件系统" class="headerlink" title="文件系统"></a>文件系统</h2><p>linux的文件系统格式为Ext2，或者Ext3 。早期的linux使用Ext2格式，目前的linux都使用了Ext3。Ext3文件系统是直接从Ext2文件系统发展而来，Ext3文件系统带有日志功能，可以跟踪记录文件系统的变化，并将变化内容写入日志，写操作首先是对日志记录文件进行操作，若整个写操作由于某种原因 (如系统掉电) 而中断，系统重启时，会根据日志记录来恢复中断前的写操作，而且这个过程费时极短。</p><p>Linux文件系统在windows中是不能识别的，但是在linux系统中你可以挂载的windows的文件系统，linux目前支持MS-DOS，VFAT，FAT，BSD等格式。Ext3文件系统为Redhat/CentOS默认使用的文件系统，除了Ext3文件系统外，有些linux发行版例如SuSE默认的文件系统为reiserFS ，Ext3 独特的优点就是易于转换，很容易在 Ext2 和 Ext3 之间相互转换，而具有良好的兼容性，其它优点reiserFS 都有，而且还比它做得更好。如高效的磁盘空间利用和独特的搜寻方式都是Ext3 所不具备的，速度上它也不能和 reiserFS相媲美，在实际使用过程中，reiserFS 也更加安全高效.</p><p>##文件类型</p><p>1）正规文件（regular file）：就是一般类型的文件，当用ls –l 查看某个目录时，第一个属性为”-“的文件就是正规文件，或者叫普通文件。正规文件又可分成纯文字文件（ascii）和二进制文件（binary）。纯文本文件是可以通过cat, more, less等工具直接查看内容的，而二进制文件并不能。例如我们用的命令/bin/ls 这就是一个二进制文件。</p><p>2）目录（directory）：这个很容易理解，就是目录，跟windows下的文件夹一个意思，只不过在linux中我们不叫文件夹，而是叫做目录。ls –l 查看第一个属性为”d”。</p><p>3）连接档（link）：ls –l 查看第一个属性为 “l”，类似windows下的快捷方式。这种文件在linux中很常见，而且笔者在日常的系统运维工作中用的很多，所以你要特意留意一下这种类型的文件。在后续章节笔者会介绍。</p><p>4）设备档（device）：与系统周边相关的一些档案，通常都集中在 /dev 这个目录之下！通常又分为两种：区块(block) 设备档：就是一些储存数据，以提供系统存取的接口设备，简单的说就是硬盘啦！例如你的一号硬盘的代码是/dev/hda1 等等的档案啦！第一个属性为 “ b “；字符 (character) 设备档：亦即是一些串行端口的接口设备，例如键盘、鼠标等等！第一个属性为 “ c “。</p><h2 id="ln-建立连接档"><a href="#ln-建立连接档" class="headerlink" title="ln 建立连接档"></a>ln 建立连接档</h2><p>连接档分为两种，硬连接（hard link）和软连接（symbolic link）。</p><p><strong>Hard Links：</strong>上面内容中说过，当系统要读取一个文件时，就会先去读inode table，然后再去根据inode中的信息到块区域去将数据取出来。而hard link 是直接再建立一个inode连接到文件放置的块区域。也就是说，进行hard link的时候实际上该文件内容没有任何变化，只是增加了一个指到这个文件的inode，不过这样一来就会有个问题，因为增加的inode会连接到块区域，而目录本身仅仅消耗inode而已，那么hard link就不能连接目录了。请你记住，hard link 有两个限制：1 不能跨文件系统，因为不通的文件系统有不同的inode table； 2 不能连接目录。</p><p><strong>Symbolic Links：</strong>跟hard link不同，这个是建立一个独立的文件，而这个文件的作用是当读取这个连接文件时，它会把读取的行为转发到该文件所link的文件上。这样讲，也许比较绕口，那么就来举一个例子。现在有文件a，我们做了一个软连接文件b（只是一个连接文件，非常小），b指向了文件a。当读取b时，那么b就会把读取的动作转发到a上，这样就读取到了文件a。所以，当你删除文件a时，文件b并不会被删除，但是再读取b时，会提示无法打开文件。而，当你删除b时，a是不会有任何影响的。</p><p>ln 语法： ln [-s][来源文件] [目的文件]</p><p>ln 常用的选项就一个-s ，如果不加就是建立硬连接，加上就建立软连接。</p><p><img src="http://wiki.jikexueyuan.com/project/linux/images/6_100.png.jpg" alt="6_100.png.jpg"></p><p>在建立硬连接前后，123目录所占空间大小并没有改变。</p><p><img src="http://wiki.jikexueyuan.com/project/linux/images/6_101.png.jpg" alt="6_101.png.jpg"></p><p>当把源文件删除后，空间仍旧没有变化。说明了删除一个文件其实只是删除了inode信息。</p><p><img src="http://wiki.jikexueyuan.com/project/linux/images/6_102.png.jpg" alt="6_102.png.jpg"></p><p>不能创建目录的硬连接。</p><p><img src="http://wiki.jikexueyuan.com/project/linux/images/6_103.png.jpg" alt="6_103.png.jpg"></p><p>建立软连接后，456目录增加了4k</p><p><img src="http://wiki.jikexueyuan.com/project/linux/images/6_104.png.jpg" alt="6_104.png.jpg"></p><p>删除源文件后会提示“没有这个文件”的错误。</p><p><img src="http://wiki.jikexueyuan.com/project/linux/images/6_105.png.jpg" alt="6_105.png.jpg"></p><p>目录是可以软连接的。</p><p><img src="http://wiki.jikexueyuan.com/project/linux/images/6_106.png.jpg" alt="6_106.png.jpg"></p><p>删除软连接对源文件没有任何影响。</p><h1 id="系统用户及用户组"><a href="#系统用户及用户组" class="headerlink" title="系统用户及用户组"></a>系统用户及用户组</h1><p><strong>【**</strong>认识<strong><strong>/etc/passwd</strong></strong>和<strong>**/etc/shadow】</strong></p><p>这两个文件可以说是linux系统中最重要的文件之一。如果没有这两个文件或者这两个文件出问题，则你是无法正常登录linux系统的。</p><p><img src="http://wiki.jikexueyuan.com/project/linux/images/7_1.png.jpg" alt="7_1.png.jpg"></p><p>/etc/passwd由’:’分割成7个字段，每个字段的具体含义是：</p><p>1）用户名（如第一行中的root就是用户名），代表用户账号的字符串。用户名字符可以是大小写字母、数字、减号（不能出现在首位）、点以及下划线，其他字符不合法。虽然用户名中可以出现点，但不建议使用，尤其是首位为点时，另外减号也不建议使用，因为容易造成混淆。</p><p>2）存放的就是该账号的口令，为什么是’x’呢？早期的unix系统口令确实是存放在这里，但基于安全因素，后来就将其存放到/etc/shadow中了，在这里只用一个’x’代替。</p><p>3）这个数字代表用户标识号，也叫做uid。系统识别用户身份就是通过这个数字来的，0就是root，也就是说你可以修改test用户的uid为0，那么系统会认为root和test为同一个账户。通常uid的取值范围是0~65535，0是超级用户（root）的标识号，1~499由系统保留，作为管理账号，普通用户的标识号从500开始，如果我们自定义建立一个普通用户，你会看到该账户的标识号是大于或等于500的。</p><p>4）表示组标识号，也叫做gid。这个字段对应着/etc/group 中的一条记录，其实/etc/group和/etc/passwd基本上类似。</p><p>5）注释说明，该字段没有实际意义，通常记录该用户的一些属性，例如姓名、电话、地址等等。不过，当你使用finger的功能时就会显示这些信息的（稍后做介绍）。</p><p>6）用户的家目录，当用户登录时就处在这个目录下。root的家目录是/root，普通用户的家目录则为/home/username，这个字段是可以自定义的，比如你建立一个普通用户test1，要想让test1的家目录在/data目录下，只要修改/etc/passwd文件中test1那行中的该字段为/data即可。</p><p>7）shell，用户登录后要启动一个进程，用来将用户下达的指令传给内核，这就是shell。Linux的shell有很多种sh, csh, ksh, tcsh, bash等，而Redhat/CentOS的shell就是bash。查看/etc/passwd文件，该字段中除了/bin/bash外还有/sbin/nologin比较多，它表示不允许该账号登录。如果你想建立一个账号不让他登录，那么就可以把该字段改成/sbin/nologin，默认是/bin/bash。</p><p><img src="http://wiki.jikexueyuan.com/project/linux/images/7_12.png.jpg" alt="7_12.png.jpg"></p><p>再来看看/etc/shadow这个文件，和/etc/passwd类似，用”:”分割成9个字段。</p><p>1）用户名，跟/etc/passwd对应。</p><p>2）用户密码，这个才是该账号的真正的密码，不过这个密码已经加密过了，但是有些黑客还是能够解密的。所以为了安全，该文件属性设置为600，只允许root读写。</p><p>3）上次更改密码的日期，这个数字是这样计算得来的，距离1970年1月1日到上次更改密码的日期，例如上次更改密码的日期为2012年1月1日，则这个值就是365*（2012-1970）+1=15331。</p><p>4）要过多少天才可以更改密码，默认是0，即不限制。</p><p>5）密码多少天后到期。即在多少天内必须更改密码，例如这里设置成30，则30天内必须更改一次密码，否则将不能登录系统，默认是99999，可以理解为永远不需要改。</p><p>6）密码到期前的警告期限，若这个值设置成7，则表示当7天后密码过期时，系统就发出警告告诉用户，提醒用户他的密码将在7天后到期。</p><p>7）账号失效期限。你可以这样理解，如果设置这个值为3，则表示：密码已经到期，然而用户并没有在到期前修改密码，那么再过3天，则这个账号就失效了，即锁定了。</p><p>8）账号的生命周期，跟第三段一样，是按距离1970年1月1日多少天算的。它表示的含义是，账号在这个日期前可以使用，到期后账号作废。</p><p>9）作为保留用的，没有什么意义。</p><p><strong>【**</strong>新增<strong><strong>/</strong></strong>删除用户和用户组<strong>**】</strong></p><p>a. 新增一个组 groupadd [-g GID] groupname</p><p><img src="http://wiki.jikexueyuan.com/project/linux/images/7_13.png.jpg" alt="7_13.png.jpg"></p><p>不加-g 则按照系统默认的gid创建组，跟用户一样，gid也是从500开始的</p><p><img src="http://wiki.jikexueyuan.com/project/linux/images/7_14.png.jpg" alt="7_14.png.jpg"></p><p>-g选项可以自定义gid</p><p>b. 删除组 gropudel groupname</p><p><img src="http://wiki.jikexueyuan.com/project/linux/images/7_15.png.jpg" alt="7_15.png.jpg"></p><p>没有特殊选项。</p><p>c. 增加用户 useradd [-u UID] [-g GID] [-d HOME] [-M] [-s]</p><p>-u 自定义UID</p><p>-g 使其属于已经存在的某个GID</p><p>-d 自定义用户的家目录</p><p>-M 不建立家目录</p><p>-s 自定义shell</p><p><img src="http://wiki.jikexueyuan.com/project/linux/images/7_16.png.jpg" alt="7_16.png.jpg"></p><p>你会发现，创建test11时，加上了-M选项后，在/etc/passwd文件中test11那行的第六字段依然有/home/test11，可是ls查看该目录时，会提示该目录不存在。</p><p><img src="http://wiki.jikexueyuan.com/project/linux/images/7_17.png.jpg" alt="7_17.png.jpg"></p><p>-M选项的作用就是不创建用户的家目录。</p><p>-d. 删除用户 userdel [-r] username</p><p><img src="http://wiki.jikexueyuan.com/project/linux/images/7_18.png.jpg" alt="7_18.png.jpg"></p><p>-r 选项的作用是删除用户时，连同用户的家目录一起删除。</p><p><strong>【chfn</strong> <strong>更改用户的**</strong>finger<strong> </strong>（不常用）<strong>**】</strong></p><p>前面内容中提到了findger，即在/etc/passwd文件中的第5个字段中所显示的信息，那么如何去设定这个信息呢？</p><p><img src="http://wiki.jikexueyuan.com/project/linux/images/7_19.png.jpg" alt="7_19.png.jpg"></p><p>就是chfn这个命令了。修改完后，就会在/etc/passwd文件中的test的那一行第五个字段中看到相关信息了，默认是空的。</p><p><strong>【**</strong>创建<strong><strong>/</strong></strong>修改一个用户的密码<strong> </strong>“passwd [username]”】**</p><p>等创建完账户后，默认是没有设置密码的，虽然没有密码，但该账户同样登录不了系统。只有设置好密码后方可登录系统。</p><p>为用户创建密码时，为了安全起见，请尽量设置复杂一些。你可以按照这样的规则来设置密码：a. 长度大于10个字符；b.密码中包含大小写字母数字以及特殊字符（*&amp;等）；c. 不规则性（不要出现root, happy, love, linux, 123456, 111111等等单词或者数字）；d. 不要带有自己名字、公司名字、自己电话、自己生日等。</p><p><img src="http://wiki.jikexueyuan.com/project/linux/images/7_20.png.jpg" alt="7_20.png.jpg"></p><p>passwd 后面不跟用户名则是更改当前用户的密码，当前用户为root，所以此时修改的是root的密码，后面跟test则修改的是test的密码。</p></div><div><div><div style="text-align:center;color:#ccc;font-size:14px">------本文结束&nbsp<i class="fa fa-paw"></i>&nbsp感谢阅读------</div></div></div><div style="text-align:center;color:#ccc;font-size:14px;margin-top:15px"><div class="jiathis_style"><a class="jiathis_button_tsina">微博</a> <a class="jiathis_button_weixin">微信</a> <a class="jiathis_button_douban">豆瓣</a> <a href="http://www.jiathis.com/share" class="jiathis jiathis_txt jiathis_separator jtico jtico_jiathis" target="_blank">更多</a> <a class="jiathis_counter_style"></a></div><script type="text/javascript">var jiathis_config={summary:"",ralateuid:{tsina:"HamsterSi"},shortUrl:!1,hideMore:!1}</script><script type="text/javascript" src="http://v3.jiathis.com/code/jia.js" charset="utf-8"></script></div><div></div><div><div style="padding:10px 0;margin:20px auto;width:90%;text-align:center"><div>感谢打赏</div><button id="rewardButton" disable="enable" onclick='var e=document.getElementById("QR");"none"===e.style.display?e.style.display="block":e.style.display="none"'><span style="font-size:25px">赏</span></button><div id="QR" style="display:none"><div id="wechat" style="display:inline-block"><img id="wechat_qr" src="/images/pay-wechat.jpg" alt="Hamster Si WeChat Pay"><p>微信打赏</p></div><div id="alipay" style="display:inline-block"><img id="alipay_qr" src="/images/pay-alipay.jpg" alt="Hamster Si Alipay"><p>支付宝打赏</p></div></div></div></div><footer class="post-footer"><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2017/08/VIM-VI-Cheatsheet/" rel="next" title="VIM&VI Cheatsheet"><i class="fa fa-chevron-left"></i> VIM&VI Cheatsheet</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"></div></div></footer></article><div class="post-spread"></div><div id="uyan_frame"></div><script type="text/javascript" src="http://v2.uyan.cc/code/uyan.js?uid=2141218"></script></div></div><div class="comments" id="comments"></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">文章目录</li><li class="sidebar-nav-overview" data-target="site-overview">站点概览</li></ul><section class="site-overview sidebar-panel"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" src="/images/logo@2x.png" alt="Hamster Si"><p class="site-author-name" itemprop="name">Hamster Si</p><p class="site-description motion-element" itemprop="description">生性涼薄 擇木而修</p></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives"><span class="site-state-item-count">21</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><span class="site-state-item-count">5</span> <span class="site-state-item-name">分类</span></div><div class="site-state-item site-state-tags"><a href="/tags"><span class="site-state-item-count">18</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="feed-link motion-element"><a href="/atom.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="http://hamstersi.com/about/" target="_blank" title="WeChat" class="social-link-format"><i class="fa fa-fw fa-wechat"></i> WeChat </a></span><span class="links-of-author-item"><a href="http://www.weibo.com/suluoai/" target="_blank" title="Weibo" class="social-link-format"><i class="fa fa-fw fa-weibo"></i> Weibo </a></span><span class="links-of-author-item"><a href="https://www.douban.com/people/63923742/" target="_blank" title="Douban" class="social-link-format"><i class="fa fa-fw fa-pagelines"></i> Douban</a></span></div></section><section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Linux-系统目录结构"><span class="nav-number">1.</span> <span class="nav-text">Linux 系统目录结构</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#常用快捷键"><span class="nav-number">2.</span> <span class="nav-text">常用快捷键</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Linux-文件目录管理"><span class="nav-number">3.</span> <span class="nav-text">Linux 文件目录管理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#环境变量PATH"><span class="nav-number">3.1.</span> <span class="nav-text">环境变量PATH</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#文件属性"><span class="nav-number">3.2.</span> <span class="nav-text">文件属性</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#更改文件的权限"><span class="nav-number">3.3.</span> <span class="nav-text">更改文件的权限</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#搜索文件"><span class="nav-number">3.4.</span> <span class="nav-text">搜索文件</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#文件系统"><span class="nav-number">3.5.</span> <span class="nav-text">文件系统</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ln-建立连接档"><span class="nav-number">3.6.</span> <span class="nav-text">ln 建立连接档</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#系统用户及用户组"><span class="nav-number">4.</span> <span class="nav-text">系统用户及用户组</span></a></li></ol></div></div></section></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><div class="copyright">&copy; <span itemprop="copyrightYear">2017</span> - <span class="author" itemprop="copyrightHolder">Hamster Si</span></div><div class="powered-by">HamsterSi.com</div><div class="theme-info">Powered By <a class="theme-link" href="https://www.qcloud.com/">QCloud</a>, <a class="theme-link" href="https://hexo.io">HEXO</a>, <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">NexT</a></div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i></div></div><script type="text/javascript">"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script><script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script><script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script><script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script><script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script><script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script><script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.0"></script><script type="text/javascript" src="/js/src/post-details.js?v=5.1.0"></script><script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script><script type="text/javascript">function proceedsearch(){$("body").append('<div class="popoverlay">').css("overflow","hidden"),$(".popup").toggle()}var isfetched=!1,search_path="search.xml";0==search_path.length&&(search_path="search.xml");var path="/"+search_path,searchFunc=function(e,t,a){"use strict";$.ajax({url:e,dataType:"xml",async:!0,success:function(e){isfetched=!0,$(".popup").detach().appendTo(".header-inner");var r=$("entry",e).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get(),c=document.getElementById(t),n=document.getElementById(a);c.addEventListener("input",function(){var e=0,t='<ul class="search-result-list">',a=this.value.trim().toLowerCase().split(/[\s\-]+/);n.innerHTML="",this.value.trim().length>1&&r.forEach(function(r){var c=!1,n=r.title.trim().toLowerCase(),s=r.content.trim().replace(/<[^>]+>/g,"").toLowerCase(),o=decodeURIComponent(r.url),i=-1,l=-1,p=-1;if(""!=n&&a.forEach(function(e,t){i=n.indexOf(e),l=s.indexOf(e),(i>=0||l>=0)&&(c=!0,0==t&&(p=l))}),c){e+=1,t+="<li><a href='"+o+"' class='search-result-title'>"+n+"</a>";var h=r.content.trim().replace(/<[^>]+>/g,"");if(p>=0){var u=p-20,d=p+80;u<0&&(u=0),0==u&&(d=50),d>h.length&&(d=h.length);var f=h.substring(u,d);a.forEach(function(e){var t=new RegExp(e,"gi");f=f.replace(t,'<b class="search-keyword">'+e+"</b>")}),t+='<p class="search-result">'+f+"...</p>"}t+="</li>"}}),t+="</ul>",0==e&&(t='<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'),""==a&&(t='<div id="no-result"><i class="fa fa-search fa-5x" /></div>'),n.innerHTML=t}),proceedsearch()}})};$(".popup-trigger").click(function(e){e.stopPropagation(),0==isfetched?searchFunc(path,"local-search-input","local-search-result"):proceedsearch()}),$(".popup-btn-close").click(function(e){$(".popup").hide(),$(".popoverlay").remove(),$("body").css("overflow","")}),$(".popup").click(function(e){e.stopPropagation()})</script></body></html>